From eff40618ac6a915127351cf0f711179e68dec14b Mon Sep 17 00:00:00 2001
From: Jinho Bang <zino@chromium.org>
Date: Wed, 3 Jul 2019 00:53:49 +0900
Subject: [PATCH] TripleBanana: Add a dependency for triple banana project

After this patch, we can build triple_banana target via ninja build.
---
 BUILD.gn                                                                | 1 +
 chrome/android/BUILD.gn                                                 | 1 +
 .../java/src/org/chromium/chrome/browser/ChromeTabbedActivity.java      | 2 ++
 3 files changed, 4 insertions(+)

diff --git a/BUILD.gn b/BUILD.gn
index 653e1d24..f82e846 100644
--- a/BUILD.gn
+++ b/BUILD.gn
@@ -63,6 +63,7 @@ group("gn_all") {
   testonly = true
 
   deps = [
+    "//triple_banana:triple_banana",
     ":gn_visibility",
     "//base:base_perftests",
     "//base:base_unittests",
diff --git a/chrome/android/BUILD.gn b/chrome/android/BUILD.gn
index fed5592..75c7e26 100644
--- a/chrome/android/BUILD.gn
+++ b/chrome/android/BUILD.gn
@@ -267,6 +267,7 @@ android_library("chrome_java") {
     ":thumbnail_cache_entry_proto_java",
     ":update_proto_java",
     ":usage_stats_proto_java",
+    "//triple_banana:triple_banana_java",
     "$google_play_services_package:google_play_services_auth_base_java",
     "$google_play_services_package:google_play_services_base_java",
     "$google_play_services_package:google_play_services_basement_java",
diff --git a/chrome/android/java/src/org/chromium/chrome/browser/ChromeTabbedActivity.java b/chrome/android/java/src/org/chromium/chrome/browser/ChromeTabbedActivity.java
index 402e898..6cce731 100644
--- a/chrome/android/java/src/org/chromium/chrome/browser/ChromeTabbedActivity.java
+++ b/chrome/android/java/src/org/chromium/chrome/browser/ChromeTabbedActivity.java
@@ -1565,6 +1565,8 @@ public class ChromeTabbedActivity
             }
         }
 
+        org.triple.banana.ChromeExport.api.initCommandLine(commandLine);
+
         supportRequestWindowFeature(Window.FEATURE_ACTION_MODE_OVERLAY);
 
         // We are starting from history with a URL after data has been cleared. On Samsung this
-- 
2.7.4

